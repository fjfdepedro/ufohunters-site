function CustomTooltip(t,e){function n(t,e){o.html(t).show(),i(e)}function r(){o.hide()}function i(t){var e=0,n=0,r=o.width(),i=o.height(),a=$(window).scrollTop(),s=$(window).scrollLeft(),u=document.all?t.clientX+s:t.pageX,l=document.all?t.clientY+a:t.pageY,c=Math.max(u-s+2*e+r>$(window).width()?u-r-2*e:u+e,s+e),f=Math.max(l-a+2*n+i>$(window).height()?l-i-2*n:l+n,l+n);o.css("top",f+"px").css("left",c+"px")}var t=t;$("body").append("<div class='tooltip' id='"+t+"'></div>");var o=$("#"+t);return e&&o.css("width",e),o.on("mouseleave",function(){r()}),r(),{showTooltip:n,hideTooltip:r,updatePosition:i}}